<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Developing Reuse Components</title>
      <link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon">
      <link rel="shortcut icon" href="themes/sap-default/img/favicon.ico">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="abstract" content="Follow these guidelines when developing reuse components that are to be included as sections in object pages.">
      
      <meta name="description" content="Follow these guidelines when developing reuse components that are to be included as sections in object pages.">
      
      <meta name="content category" content="development">
      <script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"f4eb70f4808b48adb6ea03a4017aba24.html","previousTopicHref":"1ba7f888dbf04121a62965b664496616.html"}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css">
      <script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script>
      <script type="text/javascript" src="toc-info.js"></script>
      <script type="text/javascript" src="themes/sap-default/js/script.js"></script>
      
      		<!--[if lt IE 9]>
      			<script>
      			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
      			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
      			    "progress,section,time,video").split(',');
      			  for (var i = 0; i < e.length; i++) {
      			    document.createElement(e[i]);
      			  }
      			</script>
      		<![endif]-->
      
      <script>
      function addLoadEvent(func) {
      var oldonload = window.onload;
      if (typeof window.onload != 'function') {
      window.onload = func;
      } else {
      window.onload = function() {
      if (oldonload) {
      oldonload();
      }
      func();
      }
      }
      }
      
      addLoadEvent(function() { prettyPrint();
      if ($('#local-navigation').length) {
      $('#local-navigation').navigation();
      }
      
      
      });
      
      </script>
      <script type="text/javascript" src="js/prettify.js"> </script>
      <script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script>
      
      
      <script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head>
   <body class="en-us sap-default centered navigation-default enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;">
      <div id="d4h5-main-container" class="container_12" role="application">
         <ul id="page-links" class="hidden">
            <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
            <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
            <li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li>
         </ul>
         
         
         <div id="d4h5-section-container" class="grid_12" style="padding-top: 0;">
            
            
            
            <div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;">
               <section>
                  <div id="content-toolbar" class="toolbar hide-for-small"></div>
                  <div class="page concept  - topic-topic concept-concept " id="loio6314fcd2510648fbaad3cee8a421030d">
                     
                     <h1 class="title topictitle1" hidden>Developing Reuse Components</h1>
                     
                     <div class="body conbody">
                        <p class="shortdesc" hidden>Follow these guidelines when developing reuse components that are to be included as
                           		sections in object pages.
                        </p>
                        
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_dlh_hyx_mfb">
                           <section class="section" type="General Guidelines">
                              <h2 class="section_title" style="font-size: 1.15em;">General Guidelines</h2>
                              			
                              			
                              			
                              			
                              <p class="p">As a provider of a reuse component that is used in several apps, create a library
                                 				which can be included by the apps.
                              </p>
                              
                              			
                              <p class="p">When providing a one-time reuse component  provide the reuse
                                 				component within the same project that implements the application that uses the
                                 				reuse component.
                              </p>
                              
                              			
                              <p class="p">Technically, a reuse component is a subclass of <a class="xref" href="../../#/api/sap.ui.core.UIComponent" target="_top" alt="#/api/sap.ui.core.UIComponent" title="#/api/sap.ui.core.UIComponent">UIComponent</a> which calls <a class="xref" href="../../#/api/sap.suite.ui.generic.template.extensionAPI.ReuseComponentSupport/methods/sap.suite.ui.generic.template.extensionAPI.ReuseComponentSupport.mixInto" target="_top" alt="#/api/sap.suite.ui.generic.template.extensionAPI.ReuseComponentSupport/methods/sap.suite.ui.generic.template.extensionAPI.ReuseComponentSupport.mixInto" title="#/api/sap.suite.ui.generic.template.extensionAPI.ReuseComponentSupport/methods/sap.suite.ui.generic.template.extensionAPI.ReuseComponentSupport.mixInto">ReuseComponentSupport.mixInto</a> within its
                                 					<samp class="ph codeph">init()</samp> method.
                              </p>
                              
                              			
                              <aside class="note note insertion"><span class="title">Note</span> 
                                 				
                                 <ul class="ul" id="loio6314fcd2510648fbaad3cee8a421030d__ul_emn_zwx_mfb">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">The reuse component must not define any method starting with the prefix
                                          							st or _st. The only exceptions are the methods defined in this
                                          							documentation. These methods have to be overwritten so you can use the
                                          							functions provided by SAP Fiori elements. 
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">If you want to use the component model functionality providedy by SAP Fiori
                                       						elements, note that the method name <samp class="ph codeph">getComponentModel</samp> is
                                       						reserved by SAP Fiori elements.
                                    </li>
                                    
                                    					
                                    <li class="li">The reuse component can define (API) properties on its own. These properties
                                       						can be used to communicate with the application that embeds the reuse
                                       						component. However, certain property names are predefined by SAP Fiori
                                       						elements. These properties have specific semantics and cannot be used to
                                       						communicate with the embedding application.
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                                 			
                              </aside>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_v1w_kyx_mfb">
                           <section class="section" type="Reuse Components and Reuse Component Instances">
                              <h2 class="section_title" style="font-size: 1.15em;">Reuse Components and Reuse Component Instances</h2>
                              			
                              			
                              <p class="p">A <span class="ph emphasis emphasis">reuse component</span> is a software artifact that can be used to embed a UI
                                 				module into an object page . You can embed the same reuse component several times in the same app
                                 				or even in one object page. 
                              </p>
                              
                              			
                              <p class="p">A <span class="ph emphasis emphasis">reuse component instance</span> is one occurence of a reuse component within
                                 				an application.
                              </p>
                              
                              			
                              <p class="p">This means that the implementation of a reuse component must not store any information that
                                 				should be considered at instance level, in a singleton object. 
                              </p>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_jz2_jzx_mfb">
                           <section class="section" type="Handling Properties">
                              <h2 class="section_title" style="font-size: 1.15em;">Handling Properties</h2>
                              <p class="p">A reuse component may
                                 				expose properties that can be used to communicate with the embedding application.
                                 				For each of these properties, setter and getter methods are created automatically.
                                 				The embedding application does not communicate with the reuse component instance by
                                 				directly calling these methods. It does not even have access to the reuse component
                                 				instance. For more information, see <a class="xref" href="../../#/topic/d869d7ab3caa48b2a20dc20dfa248380.html" title="You can embed a reuse component as a section in the object page of your app." target="_top">Including Reuse Components on an Object Page</a>
                                 				.
                              </p>
                              
                              <p class="p">The reuse
                                 				component has two options for consuming the properties:
                              </p>
                              
                              <div class="sectiondiv subsection">
                                 				
                                 <p class="p subsectiontitle">Option 1: Overriding the Setters</p>
                                 
                                 				
                                 <p class="p">If the reuse component is to react via coding to changes of its properties,
                                    					override the setter method of the corresponding property within the reuse
                                    					component.
                                 </p>
                                 
                                 			
                              </div>
                              <div class="sectiondiv subsection">
                                 				
                                 <p class="p subsectiontitle">Option 2: Component Model</p>
                                 
                                 				
                                 <p class="p">When calling the <samp class="ph codeph">ReuseComponentSupport.mixInto</samp> method, the reuse
                                    					component can provide an optional second (string) parameter. If this parameter
                                    					is not faulty, it is used as the name of the JSON model this is automatically
                                    					attached to the reuse component. You can retrieve this model from the reuse
                                    					component by calling the <samp class="ph codeph">getComponentModel()</samp> method that is
                                    					automatically added to the reuse component.
                                 </p>
                                 
                                 				
                                 <p class="p">The component model may contain arbitrary properties. However, if any of the
                                    					reuse component&apos;s properties is changed, the corresponding property in the
                                    					component model is changed accordingly. This can be used in particular for
                                    					declaratively using the property values within binding definitions. You can also
                                    					achieve this by creating a corresponding property binding and attach a change
                                    					handler to this binding.
                                 </p>
                                 
                                 				
                                 <aside class="note note insertion"><span class="title">Note</span> If a property in the JSON model is modified by other means, this change is not
                                    					transferred to the corresponding property of the reuse component. If you want to
                                    					transfer the change, you can use the <samp class="ph codeph">bTwoWaySync</samp> parameter of
                                    					the <samp class="ph codeph">ReuseComponentSupport.mixInto</samp> method. Handle this
                                    					functionality with care, as there is a risk of accidentally modifying data in
                                    					the enclosing application. 
                                    <p class="p">The reuse component may also use the component
                                       						model to handle additional properties that aren&apos;t exposed as properties of
                                       						the reuse component. These properties are controlled exclusively by the
                                       						reuse component. They cannot be used to communicate with the embedding
                                       						application. However, they can be used for data transfer between declarative
                                       						and programmatic parts of the implementation of the reuse component.
                                    </p>
                                    
                                    				
                                 </aside>
                                 
                                 			
                              </div>
                              <div class="sectiondiv subsection">
                                 				
                                 <p class="p subsectiontitle">Predefined Properties</p>
                                 
                                 				
                                 <p class="p">Although some properties are predefined by the SAP Fiori elements framework, the
                                    					reuse component must declare them in the metadata. The values are then provided
                                    					by the SAP Fiori elements framework.
                                 </p>
                                 
                                 				
                                 <p class="p">Property names with the prefix st are reserved for the SAP Fiori elements
                                    					framework. These properties are supported:
                                 </p>
                                 
                                 				
                                 <ul class="ul" id="loio6314fcd2510648fbaad3cee8a421030d__ul_b1d_nrh_4fb">
                                    					
                                    <li class="li">
                                       <p class="p"><samp class="ph codeph">uiMode</samp></p>
                                       The possible values for this property are
                                       						&quot;Create&quot;, &quot;Display&quot;, and &quot;Edit&quot;. Note that this property should not provide
                                       						information for setting up backend requests (for example, whether the active
                                       						or the draft version of the object is currently displayed). Use this
                                       						property only to provide the correct mode for controls within the reuse
                                       						component (for example, input fields).
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p"><samp class="ph codeph">semanticObject</samp></p>
                                       
                                       						
                                       <p class="p">The semantic object displayed on the current object page.</p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p"><samp class="ph codeph">stIsAreaVisible</samp></p>
                                       
                                       						
                                       <p class="p">This boolean property is set to true if the reuse component is in the
                                          							visible area of the screen. 
                                       </p>
                                       
                                       						
                                       <p class="p">We recommended postponing any performance-critical action if the value of
                                          							this property is false. In this case, the action should be performed
                                          							only if the value of this property is true (if it is still necessary).
                                          							This type of system behavior is called lazy loading.
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                                 				
                                 <p class="p">The following example shows a snippet of a reuse component that uses the
                                    					predefined properties and an additional property <samp class="ph codeph">documentNumber</samp>
                                    					that is used to pass a key to the reuse component:
                                 </p>
                                 
                                 				
                                 <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                    					<pre class="pre codeblock prettyprint">sap.ui.define([
 &quot;sap/ui/core/UIComponent&quot;,
 &quot;sap/suite/ui/generic/template/extensionAPI/ReuseComponentSupport&quot;
], function(UIComponent, ReuseComponentSupport) {
 &quot;use strict&quot;;

 /* Definition of the reuse component */
 return UIComponent.extend(&quot;MyReuseComponent&quot;, {
  metadata: {
   manifest: &quot;json&quot;,
   library: &quot;myLibrary&quot;,   
   properties: {
    /* Standard properties for reuse components */

    uiMode: {
     type: &quot;string&quot;,
     group: &quot;standard&quot;
    },
    semanticObject: {
     type: &quot;string&quot;,
     group: &quot;standard&quot;
    },
    stIsAreaVisible: {
     type: &quot;boolean&quot;,
     group: &quot;standard&quot;
    },
    
    /* Component specific properties */
   
    documentNumber: {
     type: &quot;string&quot;,
     group: &quot;specific&quot;,
     defaultValue: &quot;&quot;
    }
   }
  },
  
  // Standard life time event of a component. Used to transform this component into a reuse component for Fiori Elements
  init: function(){
    //Transform this component into a reuse component for Fiori Elements:
    ReuseComponentSupport.mixInto(this, &quot;myPropertiesModelName&quot;);    
    // Defensive call of init of the super class:
    (UIComponent.prototype.init || jQuery.noop).apply(this, arguments);
  }
 });
});
</pre>
                                    
                                    				</aside>
                                 
                                 				
                                 <p class="p">Now the reuse component can declaratively use all the properties defined above,
                                    					as shown in the following example:
                                 </p>
                                 
                                 				
                                 <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                    					<pre class="pre codeblock prettyprint">
&lt;sfo:SmartForm xmlns:sfo=&quot;sap.ui.comp.smartform&quot;
    editable=&quot;{= ${myPropertiesModelName&gt;/uiMode} !== &apos;Display&apos; }&quot;
&lt;/sfo:SmartForm&gt;
</pre>
                                    
                                    				</aside>
                                 
                                 				
                                 <p class="p">If the reuse component is to adapt to changes of the property programmatically,
                                    					two alternative techniques can be used. They are shown in the following code
                                    					snippet:
                                 </p>
                                 
                                 				
                                 <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                    					<pre class="pre codeblock prettyprint">
sap.ui.define([
 &quot;sap/ui/core/UIComponent&quot;,
 &quot;sap/suite/ui/generic/template/extensionAPI/ReuseComponentSupport&quot;
], function(UIComponent, ReuseComponentSupport) {
 &quot;use strict&quot;;


 /* Definition of the reuse component */
 return UIComponent.extend(&quot;MyReuseComponent&quot;, {
  metadata: {
   manifest: &quot;json&quot;,
   library: &quot;myLibrary&quot;,   
   properties: {
    /* Standard properties for reuse components */


    uiMode: {
     type: &quot;string&quot;,
     group: &quot;standard&quot;
    },
    semanticObject: {
     type: &quot;string&quot;,
     group: &quot;standard&quot;
    },
    stIsAreaVisible: {
     type: &quot;boolean&quot;,
     group: &quot;standard&quot;
    },
     
    /* Component specific properties */
    

    documentNumber: {
     type: &quot;string&quot;,
     group: &quot;specific&quot;,
     defaultValue: &quot;&quot;
    }
   }
  },
 

  // Technique 1: Redefine the predefined setter-method
  setStIsAreaVisible: function(bIsAreaVisible){    
   if (bIsAreaVisible !== this.getStIsAreaVisible()){     
     this.setProperty(&quot;stIsAreaVisible&quot;, bIsAreaVisible); // ensure that the property is updated accordingly
     // ... (any code that wants to consume the changed visibility of the reuse component)
   }   
  },  
  

  // Standard life time event of a component. Used to transform this component into a reuse component for Fiori Elements and do some initialization
  init: function(){
   // Defensive call of init of the super class:
   (UIComponent.prototype.init || jQuery.noop).apply(this, arguments);
    //Transform this component into a reuse component for Fiori Elements:
    ReuseComponentSupport.mixInto(this, &quot;myPropertiesModelName&quot;);
    // Technique 2: Attach to changes of the component model
    var oMyPropertiesModel = this.getComponentModel();
    var oPropertyBinding = oMyPropertiesModel.bindProperty(&quot;/documentNumber&quot;);
    oPropertyBinding.attachChange(function(){
      var sDocumentNumber = oMyPropertiesModel.getProperty(&quot;/documentNumber&quot;);
      // ... (any code that wants to consume the changed document number)
    }); 
  }
 });
});
</pre>
                                    
                                    				</aside>
                                 
                                 			
                              </div>
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_dzb_4th_4fb">
                           <section class="section" type="Model Propagation">
                              <h2 class="section_title" style="font-size: 1.15em;">Model Propagation</h2>
                              			
                              			
                              <p class="p">The unnamed model (the OData model) and a JSON model named &apos;ui&apos; that are defined in
                                 				the application are propagated to the reuse component.
                              </p>
                              
                              			
                              <aside class="note note insertion"><span class="title">Note</span> Additional JSON models which are used internally may also be propagated to the reuse
                                 				component. However, the reuse component must not access these models in any
                                 				way.
                              </aside>
                              
                              			
                              <p class="p">The binding context for the unnamed model is already preset. By default, if the reuse
                                 				component is used in an object page, the binding context of the object page is
                                 				propagated to the reuse component.  The embedding
                                 				application may add a relative binding to the definition of the embedding. This
                                 				modifies the binding context of the reuse component accordingly.
                              </p>
                              
                              			
                              <aside class="note note insertion"><span class="title">Note</span> The propagation of the unnamed model is especially important if the data that is
                                 				accessed by the reuse component is provided by the same OData service that is used
                                 				by the embedding application.
                              </aside>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_dqk_n5h_4fb">
                           <section class="section" type="Change Events for the Reuse Components">
                              <h2 class="section_title" style="font-size: 1.15em;">Change Events for the Reuse Components</h2>
                              			
                              			
                              <p class="p">For the implementation of the reuse component to be able to react to a change of the object
                                 				key attached to the page it is embedded in , ensure that the model
                                 				propagation has already taken place. The reuse component can then rely on the fact
                                 				that the bindings of all controls have already been updated accordingly. In this
                                 				case the reuse component can implement the <samp class="ph codeph">stRefresh(oModel,
                                    					oBindingContext, oExtensionAPI)</samp> method. This method is called if at
                                 				least one of the following occurs: 
                              </p>
                              
                              			
                              <ul class="ul" id="loio6314fcd2510648fbaad3cee8a421030d__ul_jnr_pvh_4fb">
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">A new binding context is defined for the embedding page</p>
                                    
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">The binding context of the embedding page is forced to refresh</p>
                                    
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">The key information for the embedding page changes</p>
                                    
                                    				
                                 </li>
                                 
                                 			
                              </ul>
                              
                              			
                              <p class="p">Note that method is called only after the model propagation to the reuse component.</p>
                              
                              			
                              <p class="p">The reuse component might also implement the <samp class="ph codeph">stStart(oModel, oBindingContext,
                                    					oExtensionAPI)</samp> method. This method is called at the same time as
                                 				described for <samp class="ph codeph">stRefresh</samp>, but <samp class="ph codeph">stStart</samp> is only
                                 				called once during the lifetime of the app. If both <samp class="ph codeph">stStart</samp> and
                                 					<samp class="ph codeph">stRefresh</samp> have been implemented for the first occurence of the
                                 				specified events, <samp class="ph codeph">stStart</samp> is called. For all other occurences,
                                 					<samp class="ph codeph">stRefresh</samp> is called.
                              </p>
                              
                              			
                              <p class="p">Note that the signature of the <samp class="ph codeph">stStart</samp> and <samp class="ph codeph">stRefresh</samp> methods
                                 				are identical:
                              </p>
                              
                              			
                              <ul class="ul" id="loio6314fcd2510648fbaad3cee8a421030d__ul_mqg_lyh_4fb">
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">oModel is the standard OData model of this app</p>
                                    
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">oBindingContext is the binding context of the current page. Note that this might be faulty,
                                       						for example, if the reuse component is embedded on an object page that is
                                       						currently in create mode in a non-draft app. 
                                    </p>
                                    
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">oExtensionAPI is the instance of the extension API attached to this reuse component
                                       						(instance). 
                                    </p>
                                    
                                    				
                                 </li>
                                 
                                 			
                              </ul>
                              
                              			
                              <p class="p">If the reuse component is to be used in change scenarios, we recommend implementing the
                                 					<samp class="ph codeph">stRefresh</samp> method. In this case, the framework might call this
                                 				method to indicate that the reuse component should refresh its data (even if the
                                 				object instance displayed on the embedding object page did not change).
                              </p>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_mn3_2wh_4fb">
                           <section class="section" type="Lazy Loading and Refresh">
                              <h2 class="section_title" style="font-size: 1.15em;">Lazy Loading and Refresh</h2>
                              			
                              			
                              <p class="p">The following coding example shows how lazy loading and the refresh function are combined:</p>
                              
                              			
                              <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                 				<pre class="pre codeblock prettyprint">
sap.ui.define([
 &quot;sap/ui/core/UIComponent&quot;,
 &quot;sap/suite/ui/generic/template/extensionAPI/ReuseComponentSupport&quot;
], function(UIComponent, ReuseComponentSupport) {
 &quot;use strict&quot;;

 

 /* Definition of the Reuse Component */
 return UIComponent.extend(&quot;MyReuseComponent&quot;, {
  metadata: {
   manifest: &quot;json&quot;,
   library: &quot;myLibrary&quot;,   
   properties: {
    stIsAreaVisible: {
     type: &quot;boolean&quot;,
     group: &quot;standard&quot;
    },    
  },
 

  setStIsAreaVisible: function(bIsAreaVisible){    
   if (bIsAreaVisible !== this.getStIsAreaVisible()){     
     this.setProperty(&quot;stIsAreaVisible&quot;, bIsAreaVisible); // ensure that the property is updated accordingly
     this.refreshImpl();
   }   
  },  
   

  // Standard life time event of a component. Used to transform this component into a Reuse Component for Fiori Elements and do some initialization
  init: function(){
   // Defensive call of init of the super class:
   (UIComponent.prototype.init || jQuery.noop).apply(this, arguments);
    //Transform this component into a reuse component for Fiori Elements:
    ReuseComponentSupport.mixInto(this);
  },



  stRefresh: function(oModel, oBindingContext, oExtensionAPI) {
    this.oModel = oModel;
    this.oBindingContext = oBindingContext;
    this.oExtensionAPI = oExtensionAPI;
    this.refreshImpl();
  },
 

  refreshImpl: function(){
     if (this.oBindingContext &amp;&amp; this.getStIsAreaVisible()){
       // ... (any code that loads the data for the Reuse Component according to this.oBindingContext)
       this.oBindingContext = null;     
     }
  }
 });
});
</pre>
                                 
                                 			</aside>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_dcq_syh_4fb">
                           <section class="section" type="Extension API">
                              <h2 class="section_title" style="font-size: 1.15em;">Extension API</h2>
                              <p class="p">To each reuse component instance,
                                 				an instance of the extension API is attached. This instance is a variant of the
                                 				extension API which is provided for the corresponding <a class="xref" href="../../#/api/sap.suite.ui.generic.template.ObjectPage.extensionAPI.ExtensionAPI" target="_top" alt="#/api/sap.suite.ui.generic.template.ObjectPage.extensionAPI.ExtensionAPI" title="#/api/sap.suite.ui.generic.template.ObjectPage.extensionAPI.ExtensionAPI">object page</a> or <a class="xref" href="../../#/api/sap.suite.ui.generic.template.Canvas.extensionAPI.ExtensionAPI" target="_top" alt="#/api/sap.suite.ui.generic.template.Canvas.extensionAPI.ExtensionAPI" title="#/api/sap.suite.ui.generic.template.Canvas.extensionAPI.ExtensionAPI">canvas page</a>. It is passed to the
                                 					<samp class="ph codeph">stStart</samp> and <samp class="ph codeph">stRefresh</samp> method as a third
                                 				parameter.
                              </p>
                              The <samp class="ph codeph">ReuseComponent.mixInto</samp> method which has to be
                              			called by every reuse component within its <samp class="ph codeph">init()</samp> method returns a
                              			Promise that resolves to this instance of the extension API.
                              <p class="p">Compared to the standard
                                 				extension API attached to the current page, the extension API instance attached to
                                 				the reuse component instance has the following modifications:
                              </p>
                              
                              <ul class="ul" id="loio6314fcd2510648fbaad3cee8a421030d__ul_n3f_dzh_4fb">
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">The <samp class="ph codeph">getNavigationController()</samp> method provides a modified
                                       						version of the <a class="xref" href="../../#/api/sap.suite.ui.generic.template.extensionAPI.NavigationController" target="_top" alt="#/api/sap.suite.ui.generic.template.extensionAPI.NavigationController" title="#/api/sap.suite.ui.generic.template.extensionAPI.NavigationController">NavigationController</a> which is also able to
                                       						navigate to the pages defined in the reuse component and shares a common
                                       						communication object with these pages.
                                    </p>
                                    
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">The <samp class="ph codeph">getCommunicationObject()</samp> method, when called with no
                                       						parameter (or a number not greater 0 as a parameter) behaves as usual.
                                       						Calling <samp class="ph codeph">getCommunicationObject(1)</samp> provides a communication
                                       						object that can be used for communication with the pages defined in the
                                       						reuse component. The subpages can retrieve this communication object via
                                       						calling <samp class="ph codeph">getCommunicationObject()</samp> (without parameters).
                                    </p>
                                    
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li">
                                    					
                                    <p class="p">If the reuse component is embedded in an object page, the extension API has
                                       						an additional <samp class="ph codeph">setSectionHidden(bHidden)</samp> method that can be
                                       						used to show or hide the section implemented by the reuse component
                                       						instance.
                                    </p>
                                    
                                    				
                                 </li>
                                 
                                 			
                              </ul>
                              
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_q4h_2c3_4fb">
                           <section class="section" type="Reuse Components with Subpages">
                              <h2 class="section_title" style="font-size: 1.15em;">Reuse Components with Subpages</h2>
                              <p class="p">You can define
                                 				additional pages for a reuse component. You can add them to the embedding app and
                                 				use them to provide navigation within the reuse component.
                              </p>
                              
                              <p class="p">The embedding
                                 				application needs to provide the definitions of the possible subpages within its
                                 				manifest. That is, the provider of the reuse component has to publish a snippet that
                                 				defines the subpages of the reuse component, and every consumer of the reuse
                                 				component has to add this snippet to the declaration of his useof the reuse
                                 				component.
                              </p>
                              
                              <p class="p">The definition to be added within the definition of the reuse
                                 				component must have the same structure as the one that is required for the normal
                                 				way the subpages of an object page are defined within the pages structure of the
                                 				manifest. See the following example for this:
                              </p>
                              
                              <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                 				<pre class="pre codeblock prettyprint">
...    
&quot;embeddedComponents&quot;: {        
    &quot;myComponentEmbedding&quot;: {         
        &quot;id&quot;: &quot;myComponentEmbedding&quot;,         
        &quot;componentName&quot;: &quot;theEmbeddedComponent&quot;,                  
        &quot;title&quot;: &quot;{{I18N_KEY_FOR_REUSE_COMPONENT_TITLE}}&quot;,         
        &quot;settings&quot;: {  
            &quot;documentNumber&quot;: &quot;{documentNumber}&quot;
            },         
        &quot;pages&quot;:{
            // add sub-pages here
        }
    }
}
</pre>
                                 
                                 			</aside>
                              
                              <div class="sectiondiv subsection">
                                 				
                                 <p class="p subsectiontitle">Using Standard Object Pages as Subpages of a Reuse
                                    					Component
                                 </p>
                                 
                                 				
                                 <p class="p">Optimally, use a standard object page as a subpage for a reuse component. The
                                    					manifest looks like this:
                                 </p>
                                 
                                 				
                                 <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                    					<pre class="pre codeblock prettyprint">
...     
&quot;embeddedComponents&quot;: {        
    &quot;myComponentEmbedding&quot;: {         
        &quot;id&quot;: &quot;myComponentEmbedding&quot;,         
        &quot;componentName&quot;: &quot;theEmbeddedComponent&quot;,                  
        &quot;title&quot;: &quot;{{I18N_KEY_FOR_REUSE_COMPONENT_TITLE}}&quot;,         
        &quot;settings&quot;: {  
            &quot;theNavigationPropertyName&quot;: &quot;myNavigationProperty&quot;         },         
        &quot;pages&quot;:{
                &quot;ObjectPage|myNavigationProperty&quot;:{           
                &quot;navigationProperty&quot;: &quot;myNavigationProperty&quot;,           
                &quot;entitySet&quot;: &quot;myDependingEntitySet&quot;,           
                &quot;component&quot;: {            
                    &quot;name&quot;: &quot;sap.suite.ui.generic.template.ObjectPage&quot;          
                }          
            }
        }
    }
}
</pre>
                                    
                                    				</aside>
                                 
                                 				
                                 <p class="p">There should be a navigation property called
                                    						<samp class="ph codeph">myNavigationProperty</samp> from the entity set of the object page
                                    					hosting the reuse component, to <samp class="ph codeph">myDependingEntitySet</samp>.
                                 </p>
                                 
                                 				
                                 <p class="p">You need to explicitly trigger the navigation to the subpage. Use <a class="xref" href="../../#/api/sap.suite.ui.generic.template.extensionAPI.NavigationController/methods/navigateInternal" target="_top" alt="#/api/sap.suite.ui.generic.template.extensionAPI.NavigationController/methods/navigateInternal" title="#/api/sap.suite.ui.generic.template.extensionAPI.NavigationController/methods/navigateInternal">NavigationController.navigateInternal()</a> for this
                                    					purpose, as shown below:
                                 </p>
                                 
                                 				
                                 <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> 
                                    					<pre class="pre codeblock prettyprint">
var oBindingContext = oEvent.getSource().getBindingContext();  // or any other way you have to get a binding context for the target page  
var oNavigationController = oExtensionAPI.getNavigationController(); // oExtensionAPI is the instance of the extension api which has been discussed above
var sNavigationProperty = this.getOwnerComponent().getTheNavigationPropertyName();   // retrieve the name of the navigation property (see comments below)
var oNavigationData = {
    navigationProperty: sNavigationProperty
};
oNavigationController.navigateInternal(oBindingContext, oNavigationData);
</pre>
                                    
                                    				</aside>
                                 
                                 				
                                 <p class="p">The name of the navigation property (in this case,
                                    						<samp class="ph codeph">myNavigationProperty</samp>) must be available for the developer
                                    					of the reuse component in order to trigger the navigation. However, this name is
                                    					part of the OData service of the embedding application. To achieve a loose
                                    					coupling, the developer of the reuse component does not need to hard-code this
                                    					name. The reuse component should have a
                                    						<samp class="ph codeph">theNavigationPropertyName</samp> property which is used to
                                    					transfer the name of the navigation property to the reuse component.
                                 </p>
                                 
                                 			
                              </div>
                           </section>
                        </div>
                        		
                        <div class="section" id="loio6314fcd2510648fbaad3cee8a421030d__section_asg_s23_4fb">
                           <section class="section" type="General Structure of a Reuse Component Project">
                              <h2 class="section_title" style="font-size: 1.15em;">General Structure of a Reuse Component Project</h2>A
                              			reuse component that can be used within a SAP Fiori elements-based application cannot be
                              			used in a freestyle application. Provide two separate components that refer to a common
                              			implementation. 
                              <p class="p"><span class="ph emphasis emphasis">Stable IDs</span></p>
                              
                              <p class="p">For some purposes it is helpful
                                 				if the IDs of the controls used within a reuse component instance are stable. As a
                                 				prerequisite, the ID of the view hosting the content of the reuse component is
                                 				stable. You should define this view declaratively. Specify the view within the
                                 				manifest.json of the reuse component.
                              </p>
                              
                           </section>
                        </div>
                        	
                     </div>
                     
                  </div>
                  
               </section>
               <div class="clear"></div>
               
            </div>
            <div class="clearfix"></div>
         </div>
      </div>
      <div class="clearfix"></div>
      <div id="footer-container" class="grid_12">
         <footer>
            	
            <div id="custom-footerSpacer"></div>
            	
            
         </footer>
         
         
      </div>
   </body>
</html>