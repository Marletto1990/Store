<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Rating Indicator Facet</title>
      <link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon">
      <link rel="shortcut icon" href="themes/sap-default/img/favicon.ico">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="abstract" content="You can add a read-only rating indicator to the object page header.">
      
      <meta name="description" content="You can add a read-only rating indicator to the object page header.">
      
      <meta name="content category" content="development">
      <script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"3b5e01c647f44ea98655b8c08feba780.html","previousTopicHref":"c2a389a11a704b00886440031a3d43f9.html"}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css">
      <script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script>
      <script type="text/javascript" src="toc-info.js"></script>
      <script type="text/javascript" src="themes/sap-default/js/script.js"></script>
      
      		<!--[if lt IE 9]>
      			<script>
      			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
      			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
      			    "progress,section,time,video").split(',');
      			  for (var i = 0; i < e.length; i++) {
      			    document.createElement(e[i]);
      			  }
      			</script>
      		<![endif]-->
      
      <script>
      function addLoadEvent(func) {
      var oldonload = window.onload;
      if (typeof window.onload != 'function') {
      window.onload = func;
      } else {
      window.onload = function() {
      if (oldonload) {
      oldonload();
      }
      func();
      }
      }
      }
      
      addLoadEvent(function() { prettyPrint();
      if ($('#local-navigation').length) {
      $('#local-navigation').navigation();
      }
      
      
      });
      
      </script>
      <script type="text/javascript" src="js/prettify.js"> </script>
      <script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script>
      
      
      <script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head>
   <body class="en-us sap-default centered navigation-default enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;">
      <div id="d4h5-main-container" class="container_12" role="application">
         <ul id="page-links" class="hidden">
            <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
            <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
            <li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li>
         </ul>
         
         
         <div id="d4h5-section-container" class="grid_12" style="padding-top: 0;">
            
            
            
            <div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;">
               <section>
                  <div id="content-toolbar" class="toolbar hide-for-small"></div>
                  <div class="page concept  - topic-topic concept-concept " id="loiobcc12cbe038146a2a586ac021a20f3a7">
                     
                     <h1 class="title topictitle1" hidden>Rating Indicator Facet</h1>
                     
                     <div class="body conbody">
                        <p class="shortdesc" hidden>You can add a read-only rating indicator to the object page header. </p>
                        
                        		
                        <p class="p">The rating indicator allows you to visually represent the rating types described below.</p>
                        
                        		
                        <p class="p"></p>
                        
                        		
                        <div class="section">
                           <section class="section" type="Aggregated Rating">
                              <h2 class="section_title" style="font-size: 1.15em;">Aggregated Rating</h2>
                              			
                              			
                              <p class="p">This rating shows an average of all ratings recorded for the object and is displayed
                                 				as shown below in the object page header (<span class="ph uicontrol">Display</span> mode):
                              </p>
                              
                              			
                              <div class="fig fignone" id="loiobcc12cbe038146a2a586ac021a20f3a7__fig_gy4_mhb_mw">
                                 <div class="figbody">
                                    				
                                    				<img class="inline  " id="loiobcc12cbe038146a2a586ac021a20f3a7__image_u41_5hb_mw" src="loio4811ec83a34a46979b90cafba5120dc8_LowRes.png">
                                    			
                                 </div><span class="figcap">Aggregated Rating Indicator</span></div>
                              
                              			
                              <div class="p">When the rating indicator shows an aggregated rating, it contains the following
                                 					elements:
                                 <ul class="ul" id="loiobcc12cbe038146a2a586ac021a20f3a7__ul_rwr_vhb_mw">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Title</p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Subtitle, displaying the total number of ratings </p>
                                       
                                       						
                                       <div class="p">
                                          							
                                          <aside class="note note insertion"><span class="title">Note</span> 
                                             								
                                             <p class="p">You have the option to specify a text in the subtitle to be more descriptive (example:
                                                										<span class="ph uicontrol">139 user reviews</span>, where &quot;139&quot; is the
                                                									number of reviews received, and &quot;user reviews&quot; is the text
                                                									added). For information, see the code sample below.
                                             </p>
                                             
                                             							
                                          </aside>
                                          
                                          						
                                       </div>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p"><samp class="ph codeph">Rating</samp> control, displaying the visual representation of
                                          							the rating (stars)
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Footer text, displaying the calculated average of all ratings </p>
                                       
                                       					
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                              </div>
                              
                              			
                              <aside class="note note insertion"><span class="title">Note</span> 
                                 				
                                 <p class="p">If you wish to use an aggregated rating, you must use local annotations (as
                                    					opposed to CDS annotations). For information, see the code sample below.
                                 </p>
                                 
                                 			
                              </aside>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section">
                           <section class="section" type="Non-aggregated Rating">
                              <h2 class="section_title" style="font-size: 1.15em;">Non-aggregated Rating</h2>
                              			
                              			
                              <p class="p">This rating shows a single rating, such the user&apos;s own rating for the object. In the examples
                                 				below, the non-aggregated rating is used to display the user&apos;s own rating. This
                                 				rating type is displayed as shown below:
                              </p>
                              
                              			
                              <div class="fig fignone" id="loiobcc12cbe038146a2a586ac021a20f3a7__fig_wxv_f3b_mw">
                                 <div class="figbody">
                                    				
                                    				<img class="inline  " id="loiobcc12cbe038146a2a586ac021a20f3a7__image_btk_k3b_mw" src="loioe8f6dd124f2b4b5c9fd092312917b8dd_LowRes.png">
                                    			
                                 </div><span class="figcap">Non-aggregated Rating Indicator</span></div>
                              
                              			
                              <div class="p">When the rating indicator shows a non-aggregated rating, it contains the following
                                 					elements:
                                 <ul class="ul" id="loiobcc12cbe038146a2a586ac021a20f3a7__ul_y34_n3b_mw">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Title</p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Subtitle</p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p"><samp class="ph codeph">Rating</samp> control, displaying the visual representation of
                                          							the rating (stars)
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                                 <aside class="note note insertion"><span class="title">Note</span> 
                                    					
                                    <p class="p">There is no footer for this rating type.</p>
                                    
                                    					
                                    <p class="p">If you wish to use a non-aggregated rating, you can use either local
                                       						annotations or CDS annotations. See the code samples below.
                                    </p>
                                    
                                    				
                                 </aside>
                                 
                              </div>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section">
                           <section class="section" type="Rating Indicator in Edit Mode">
                              <h2 class="section_title" style="font-size: 1.15em;">Rating Indicator in Edit Mode</h2>
                              			
                              			
                              <p class="p">When the object page is in <span class="ph uicontrol">Edit</span> mode, the rating indicator moves into
                                 				the header facet and appears as shown below with the title only. For an aggregated
                                 				rating, the number of ratings is shown in parentheses after the stars. Note that the
                                 				rating indicator is still read-only in this mode.
                              </p>
                              
                              			
                              <div class="fig fignone" id="loiobcc12cbe038146a2a586ac021a20f3a7__fig_bgd_djb_mw">
                                 <div class="figbody">
                                    				
                                    				<img class="inline  " id="loiobcc12cbe038146a2a586ac021a20f3a7__image_cnm_fjb_mw" src="loiob9fe8adfef7b4023bacbf1830060c691_LowRes.png">
                                    			
                                 </div><span class="figcap">Rating Indicator in Edit Mode</span></div>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section">
                           <section class="section" type="Code Samples">
                              <h2 class="section_title" style="font-size: 1.15em;">Code Samples</h2>
                              			
                              			
                              <p class="p">To add a rating indicator facet to the object page header, use a
                                 					<samp class="ph codeph">UI.ReferenceFacet</samp> that points to a
                                 					<samp class="ph codeph">UI.DataPoint</samp> with <samp class="ph codeph">Rating</samp> as the
                                 					<samp class="ph codeph">UI.VisualizationType</samp> as shown in the code sample below.
                              </p>
                              
                              			
                              <p class="p"> The rating indicator uses the values of the <samp class="ph codeph">UI.DataPoint</samp>, which contains the
                                 				path to the field in the back-end system that provides the rating value.
                              </p>
                              
                              			
                              <p class="p"><span class="ph emphasis emphasis">Set the Maximum Number of Stars</span></p>
                              
                              			
                              <div class="p">The maximum number of stars (<samp class="ph codeph">TargetValue</samp>) can be set in one of the
                                 				following ways:
                                 <ul class="ul" id="loiobcc12cbe038146a2a586ac021a20f3a7__ul_hx3_4jb_mw">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Specified in the annotation, as shown in the sample code for the
                                          							aggregated rating
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Determined by a path to a specific field in the back-end system, as shown
                                          							in the sample code for the non-aggregated rating 
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                              </div>
                              
                              			
                              <p class="p"><span class="ph emphasis emphasis">Change the Subtitle</span></p>
                              
                              			
                              <p class="p">The subtitle is set differently for the aggregated and non-aggregated ratings. </p>
                              
                              			
                              <p class="p">To render a subtitle for an aggregated rating, set the <samp class="ph codeph">SampleSize</samp> property
                                 				for the term <samp class="ph codeph">UI.DataPoint</samp>. The <samp class="ph codeph">SampleSize</samp> property
                                 				value (for example, <span class="ph uicontrol">139</span>) is then concatenated with a text
                                 				(for example, <span class="ph uicontrol">user reviews</span>). You can change this text by
                                 				annotating the <samp class="ph codeph">SampleSize</samp> with <samp class="ph codeph">Common.Label</samp>, as
                                 				shown in the sample code for the aggregated rating. Otherwise, the default text
                                 					(<span class="ph uicontrol">ratings</span>) is used.
                              </p>
                              
                              			
                              <p class="p">To render a subtitle for a non-aggregated rating, the <samp class="ph codeph">Description</samp> property
                                 				needs to be set for the term <samp class="ph codeph">UI.DataPoint</samp>, as shown in the sample
                                 				code for the non-aggregated rating.
                              </p>
                              
                              			
                              <div class="p">
                                 				<span class="ph emphasis emphasis">Aggregated
                                    				Rating</span><pre class="pre codeblock prettyprint lang-xml">&lt;Record Type=&quot;UI.ReferenceFacet&quot;&gt;

    &lt;PropertyValue Property=&quot;Target&quot; AnnotationPath=&quot;to_ProductRating/@UI.DataPoint#Aggregated&quot;/&gt;

&lt;/Record&gt;

&lt;Annotation Term=&quot;UI.DataPoint&quot; Qualifier=&quot;Aggregated&quot;&gt;

   &lt;!--aggregated rating --&gt;

   &lt;Record&gt;

      &lt;PropertyValue Property=&quot;Title&quot; String=&quot;{@i18n&gt;@ProductAverageRating}&quot;/&gt;

      &lt;PropertyValue Property=&quot;Value&quot; Path=&quot;AverageRating&quot;/&gt;

      &lt;PropertyValue Property=&quot;TargetValue&quot; Int=&quot;3&quot;/&gt;

      &lt;PropertyValue Property=&quot;Visualization&quot; EnumMember=&quot;UI.VisualizationType/Rating&quot;/&gt;

      &lt;PropertyValue Property=&quot;SampleSize&quot; Path=&quot;ReviewCount&quot;/&gt;

   &lt;/Record&gt;

&lt;/Annotation&gt;

 

&lt;!--replace default subtitle text with custom text --&gt;

 

&lt;Annotations Target=&quot;STTA_PROD_MAN.STTA_C_MP_ProductRatingType/ReviewCount&quot;&gt;

    &lt;Annotation Term=&quot;Common.Label&quot; String=&quot;user reviews&quot;/&gt;

&lt;/Annotations&gt; </pre>
                                 </div>
                              
                              			
                              <p class="p"><span class="ph emphasis emphasis">Non-aggregated Rating</span></p>
                              
                              			
                              <div class="p">
                                 				<pre class="pre codeblock prettyprint lang-xml">
&lt;Record Type=&quot;UI.ReferenceFacet&quot;&gt;

    &lt;PropertyValue Property=&quot;Target&quot; AnnotationPath=&quot;to_ProductRating/@UI.DataPoint#NonAggregated&quot;/&gt;

&lt;/Record&gt;

&lt;!-- non aggregated rating --&gt;

&lt;Annotation Term=&quot;UI.DataPoint&quot; Qualifier=&quot;NonAggregated&quot;&gt;

   &lt;Record&gt;

      &lt;PropertyValue Property=&quot;Title&quot; String=&quot;{@i18n&gt;@ProductUserRating}&quot;/&gt;

	  &lt;PropertyValue Property=&quot;Description&quot; String=&quot;@i18n&gt;@MyRating}&quot;/&gt;

      &lt;PropertyValue Property=&quot;Value&quot; Path=&quot;Rating&quot;/&gt;

      &lt;PropertyValue Property=&quot;TargetValue&quot; Path=&quot;MaxRating&quot;/&gt;

      &lt;PropertyValue Property=&quot;Visualization&quot; EnumMember=&quot;UI.VisualizationType/Rating&quot;/&gt;

   &lt;/Record&gt;

&lt;/Annotation&gt; 
</pre>
                                 
                                 			</div>
                              
                              			
                              <div class="p"><span class="ph emphasis emphasis">CDS Annotation Source (Non-aggregated Rating
                                    				Only)</span><pre class="pre codeblock prettyprint lang-xml">
@UI.dataPoint: {   

    title:&apos;Product Rating&apos;,   

    description: &apos;Rating Indicator&apos;,   

    targetValueElement: &apos;MaxRating&apos;,   

    visualization: #RATING

}

 

@EndUserText.label: &apos;Rating&apos; 

ProductRating.Rating     as Rating
</pre>
                                 </div>
                              
                              		
                           </section>
                        </div>
                        	
                     </div>
                     
                  </div>
                  
               </section>
               <div class="clear"></div>
               
            </div>
            <div class="clearfix"></div>
         </div>
      </div>
      <div class="clearfix"></div>
      <div id="footer-container" class="grid_12">
         <footer>
            	
            <div id="custom-footerSpacer"></div>
            	
            
         </footer>
         
         
      </div>
   </body>
</html>