<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Working With UI Annotations</title>
      <link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon">
      <link rel="shortcut icon" href="themes/sap-default/img/favicon.ico">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="abstract" content>
      
      <meta name="description" content>
      
      <meta name="content category" content="development">
      <script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"9834a0a3b9284a6197f116f6c377ed06.html","previousTopicHref":"8e1aa45ac11b4894b7c3a9d46a0b3790.html"}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css">
      <script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script>
      <script type="text/javascript" src="toc-info.js"></script>
      <script type="text/javascript" src="themes/sap-default/js/script.js"></script>
      
      		<!--[if lt IE 9]>
      			<script>
      			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
      			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
      			    "progress,section,time,video").split(',');
      			  for (var i = 0; i < e.length; i++) {
      			    document.createElement(e[i]);
      			  }
      			</script>
      		<![endif]-->
      
      <script>
      function addLoadEvent(func) {
      var oldonload = window.onload;
      if (typeof window.onload != 'function') {
      window.onload = func;
      } else {
      window.onload = function() {
      if (oldonload) {
      oldonload();
      }
      func();
      }
      }
      }
      
      addLoadEvent(function() { prettyPrint();
      if ($('#local-navigation').length) {
      $('#local-navigation').navigation();
      }
      
      
      });
      
      </script>
      <script type="text/javascript" src="js/prettify.js"> </script>
      <script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script>
      
      
      <script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head>
   <body class="en-us sap-default centered navigation-default enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;">
      <div id="d4h5-main-container" class="container_12" role="application">
         <ul id="page-links" class="hidden">
            <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
            <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
            <li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li>
         </ul>
         
         
         <div id="d4h5-section-container" class="grid_12" style="padding-top: 0;">
            
            
            
            <div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;">
               <section>
                  <div id="content-toolbar" class="toolbar hide-for-small"></div>
                  <div class="page concept  - topic-topic concept-concept " id="loio83c89ccef12f48ab98f6c3811bd025b3">
                     
                     <h1 class="title topictitle1" hidden>Working With UI Annotations</h1>
                     
                     <div class="body conbody">
                        <p class="shortdesc" hidden></p>
                        
                        		
                        <div class="p">Vocabularies and annotations allow you to extend OData services by adding information
                           			about how to interpret the OData service and its data. For a general introduction to
                           			vocabularies and annotations, see the following links:
                           <ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_p5d_bjr_qt">
                              				
                              <li class="li">
                                 					
                                 <p class="p"><a class="xref" href="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations" target="_blank" alt="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations" title="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations">Vocabulary Based Annotations</a></p>
                                 
                                 				
                              </li>
                              
                              				
                              <li class="li"><a class="xref" href="http://www.odata.org/vocabularies/" target="_blank" alt="http://www.odata.org/vocabularies/" title="http://www.odata.org/vocabularies/">Vocabularies</a></li>
                              
                              			
                           </ul>
                           
                           		
                        </div>
                        
                        		
                        <p class="p">On the <span class="ph pname">SAP Gateway</span> front-end
                           			server, you can find SAP-specific vocabularies in the <span class="ph pname">SAP Gateway</span> Service Builder
                           			(transaction <samp class="ph codeph">SEGW</samp>) under <span class="ph menucascade"><img src="themes/sap-default/img/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"><span class="ph uicontrol">Extras</span>&#xA0;<img src="themes/sap-default/img/navstep.gif" alt="Next navigation step" title="Next navigation step">&#xA0;<span class="ph uicontrol">Vocabulary Repository</span><img src="themes/sap-default/img/navend.gif" alt="End of the navigation path" title="End of the navigation path"></span>.
                        </p>
                        
                        		
                        <div class="p">The following types of vocabulary-based annotations are available:
                           <ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_k3f_qgr_lt">
                              				
                              <li class="li">
                                 					
                                 <p class="p">In-place: These are part of the metadata document of the service.</p>
                                 
                                 				
                              </li>
                              
                              				
                              <li class="li">
                                 					
                                 <p class="p">Ex-place: These are composed of an Annotation Provider Class (APC) outside the metadata
                                    						document. The APC is bound to the service using a registration in
                                    						transaction <samp class="ph codeph">/IWBEP/REG_VOCAN</samp>.
                                 </p>
                                 
                                 				
                              </li>
                              
                              			
                           </ul>
                           
                        </div>
                        
                        		
                        <p class="p">These annotations are available using a query to the <span class="ph pname">SAP Gateway</span> catalog service,
                           				<samp class="ph codeph"> /sap/opu/odata/IWFND/CATALOGSERVICE;v=2/</samp>. Entity Set:
                           			&#x201A;Annotations&#x2018;.
                        </p>
                        
                        		
                        <div class="section">
                           <section class="section" type="Reusability">
                              <h2 class="section_title" style="font-size: 1.15em;">Reusability</h2>
                              			
                              			
                              <div class="p">If the OData service is editable instead of read-only, annotation elements must be added as
                                 				required to activate or control the draft infrastructure. Existing read-only OData
                                 				services that are annotated, fact sheets for example, can be reused for the list
                                 				report and object page templates under the following circumstances:
                                 <ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_bkt_1xh_55">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">The annotations should be stored in the back-end system.  They also need
                                          							to have the  life cycle of the data model in the back-end system. Note
                                          							that facet texts need to be defined in a front-end file after
                                          							generation.
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">The OData service models (entity sets and entity types) are derived from
                                          							CDS views. The CDS entities are the primary artifacts for the data
                                          							model.  The transactional runtime model (based on the BOPF) is generated
                                          							based on annotations.
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">The UI annotations are attached to CDS views using the tags as defined by
                                       						the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" target="_blank" alt="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm">SAP - ABAP Programming Model for SAP
                                          							Fiori</a>.
                                    </li>
                                    
                                    					
                                    <li class="li">In the front end, CDS UI annotations are exposed generically and dynamically
                                       						through <span class="ph pname">SAP Gateway</span>
                                       						APIs (APC) as OData Version 4.0 annotation documents that can be addressed
                                       						separately.
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                                 <ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_txl_dhr_lt">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">Although you can use any annotation source, the recommendation is to use CDS annotations in
                                          							metadata extensions, and to expose them using <span class="ph pname">SAP Gateway</span> and
                                          							SADL. The exposure will then generate OData annotations (XML format)
                                          							from the CDS annotations. The following sections will explain which
                                          							OData annotation controls each UI element. 
                                       </p>
                                       
                                       						
                                       <p class="p">For more information, search for <span class="ph uicontrol">SAP-ABAP Programming Model for SAP Fiori
                                             							</span> and for <span class="ph uicontrol">CDS Annotations</span> in the
                                          							documentation for your SAP NetWeaver version on the SAP Help Portal at
                                          								<a class="xref" href="https://help.sap.com/viewer/p/SAP_NETWEAVER" target="_blank" alt="https://help.sap.com/viewer/p/SAP_NETWEAVER" title="https://help.sap.com/viewer/p/SAP_NETWEAVER">https://help.sap.com/viewer/p/SAP_NETWEAVER</a>. 
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                              </div>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section">
                           <section class="section" type="Actions">
                              <h2 class="section_title" style="font-size: 1.15em;">Actions</h2>
                              			
                              			
                              <p class="p">General actions are available for draft-enabled documents (edit, save, cancel/discard). You
                                 				can also define additional actions using annotations.
                              </p>
                              
                              			
                              <p class="p">The draft-handling actions are handled by the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm" target="_blank" alt="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm">Business Object Processing Framework
                                    					(BOPF</a> ). However, you must back up the application-specific actions using
                                 				an implementation in the OData service.  For general information about actions and
                                 				how to set them up, see <a class="xref" href="../../#/topic/cbf16c599f2d4b8796e3702f7d4aae6c.html" title="You can use generic actions provided by SAP Fiori elements, and you can implement application-specific actions using annotations or extension points." target="_top">Actions</a>.
                              </p>
                              
                              			
                              <p class="p">Each action corresponds to an OData function import.</p>
                              
                              		
                           </section>
                        </div>
                        		
                        <div class="section">
                           <section class="section" type="Field Control">
                              <h2 class="section_title" style="font-size: 1.15em;">Field Control</h2>
                              			
                              			
                              <aside class="note note insertion"><span class="title">Note</span> This is only relevant for list report and object page, worklist, and analytical
                                 				list page.
                              </aside>
                              
                              			
                              <p class="p">You can use field control to display a UI field as mandatory, read-only, or to hide
                                 				the field. Field control information is partly static information and valid for all
                                 				business document instances. However, most use cases are dynamic and reflect the
                                 				state of the UI application, business document, or user context and must be
                                 				controlled by the business logic.
                              </p>
                              
                              			
                              <p class="p">As business logic is implemented in the OData service, the OData service also has to
                                 				provide the relevant field control information. This is valid for the static
                                 				information the service metadata contains, as well as for dynamic information that
                                 				is part of the entity data. There is a specification for an SAP extension of the
                                 				OData protocol based on annotations for OData Version 2.0 that also covers field
                                 				control. For more information, see <a class="extlink" href="http://help.sap.com/disclaimer?site=http://scn.sap.com/docs/DOC-44986" target="_blank" alt="http://scn.sap.com/docs/DOC-44986" title="http://scn.sap.com/docs/DOC-44986">SAP Annotations for
                                    					OData Version 2.0<img src="themes/sap-default/img/sap_link.png" class="link-sap" alt="Information published on SAP site" title="Information published on SAP site" border="0"></a>.
                              </p>
                              
                              			
                              <p class="p">The controls interpret and apply field control information provided by the OData
                                 				service automatically. When using a smart field, it is sufficient to bind the
                                 				control&#x2019;s <samp class="ph codeph">value-Property</samp> to a property in the OData model in order
                                 				to achieve field control as defined by the OData service. Field control of the OData
                                 				service may be overruled by setting more restrictive properties for the smart
                                 				field.
                              </p>
                              
                              			
                              <aside class="note sap-samplecodeblock samplecode insertion"><span class="title">Sample Code</span> Snippet of XML-View
                                 				definition<pre class="pre codeblock prettyprint">
... 

&lt;!-- Field-control as defined in OData service --&gt;   

&lt;SmartField value=&quot;{Description}&quot; /&gt;

     

&lt;!-- Overrule field-control of OData service - read-only here --&gt;    

&lt;SmartField value=&quot;{Name}&quot; editable=&quot;false&quot; /&gt;

...
</pre>
                                 </aside>
                              
                              		
                           </section>
                        </div>
                        	
                     </div>
                     
                  </div>
                  
               </section>
               <div class="clear"></div>
               
            </div>
            <div class="clearfix"></div>
         </div>
      </div>
      <div class="clearfix"></div>
      <div id="footer-container" class="grid_12">
         <footer>
            	
            <div id="custom-footerSpacer"></div>
            	
            
         </footer>
         
         
      </div>
   </body>
</html>