/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.applicationHandler");jQuery.sap.require("sap.apf.utils.hashtable");(function(){'use strict';sap.apf.modeler.core.ApplicationHandler=function(i,a){var t=this;var p=i.instances.persistenceProxy;var m=i.instances.messageHandler;var H=i.constructors.Hashtable;var b;this.type="application";this.setAndSave=function(d,e,f,g){if(typeof d==="object"&&typeof e==="function"&&typeof f==="string"&&!g){var h=function(k,l){if(l){e(undefined,k,l);}else{b.setItem(d.Application,d);e(d.Application,k,l);}};if(!d.SemanticObject){d.SemanticObject="";}d.Application=f;p.update(this.type,d,h,[{name:"Application",value:f}]);}else if(typeof d==="object"&&typeof e==="function"){var j=function(r,k,l){if(l){e(r,k,l);}else{b.setItem(r.Application,{Application:r.Application,ApplicationName:r.ApplicationName,SemanticObject:r.SemanticObject});e(r.Application,k,l);}};if(!d.SemanticObject){d.SemanticObject="";}if(g&&f){d.Application=f;}else{d.Application="";}p.create(this.type,d,j);}};this.removeApplication=function(d,e){var f=function(g,h){if(!h){b.removeItem(d);}i.functions.resetConfigurationHandler(d);e(d,g,h);};p.remove(this.type,[{name:"Application",value:d}],f);};this.getList=function(){var d=[];var e=function(k,f){d.push(f);};b.forEachOrdered(e);d=d.sort(function(f,g){return f.ApplicationName.localeCompare(g.ApplicationName);});return d;};this.getApplication=function(d){return b.getItem(d);};this.registerApplicationCreatedOnServer=function(d,e){var f=this.getList();var g=false;f.forEach(function(h){if(h.Application===d){g=true;}});if(!g){b.setItem(d,{Application:d,ApplicationName:e,SemanticObject:""});}};function c(){b=new H(m);var d=function(r,e,f){if(r instanceof Array&&f===undefined){r.forEach(function(o){b.setItem(o.Application,{Application:o.Application,ApplicationName:o.ApplicationName,SemanticObject:o.SemanticObject});});}a(t,f);};p.readCollection(t.type,d);}c();};}());
