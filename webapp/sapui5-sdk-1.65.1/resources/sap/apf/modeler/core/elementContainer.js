/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.define(function(){'use strict';var E=function(n,a,i,d){var e,b,r=new RegExp("^"+n+"-([123456789]\\d*)$"),c=new RegExp("^"+n);var t=this;i.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name");if(!d){e=new i.constructors.Hashtable(i.instances.messageHandler);b=0;}else{e=d.elements;b=d.elementCounter;}this.generateId=function(){return n+"-"+(++b);};this.createElement=function(g,S){var h;h=t.generateId();return f(g,h,S);};this.createElementWithProposedId=function(g,p,S){function h(l){var m=r.exec(l);if(m){var o=parseInt(m[1],10);if(o>b){b=o;}}}var j;var k=e.getItem(p);if(k){return t.createElement(g,S);}j=f(g,p,S);h(p);return j;};this.removeElement=function(g){return e.removeItem(g);};this.getElement=function(g){return e.getItem(g);};this.updateElement=function(g,h){i.instances.messageHandler.check(g!==undefined,"ElementContainer: Element has been updated with undefined elementId");if((!h.getId)||h.getId()!==g){h.getId=function(){return g;};}e.setItem(g,h);return g;};this.setElement=function(g,h){var j;if(h){if(!(e.getItem(h))){i.instances.messageHandler.putMessage(i.instances.messageHandler.createMessageObject({code:'11006',aParameters:[h]}));return undefined;}t.updateElement(h,g);return h;}j=t.createElement(g);return j.getId();};this.getElements=function(){var l=[];e.forEachOrdered(function(g,h){l.push(h);});return l;};this.moveUpOrDown=function(g,h){return e.moveUpOrDown(g,h);};this.moveBefore=function(g,m){return e.moveBefore(g,m);};this.moveToEnd=function(g){return e.moveToEnd(g);};this.copyElement=function(g){var h,j,k;h=e.getItem(g);if(!h){return;}k=t.generateId();if(h.copy&&typeof h.copy==="function"){j=h.copy(k);}else{j=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(h);}j.getId=function(){return k;};e.setItem(k,j);return k;};this.copy=function(g){var h={elements:new i.constructors.Hashtable(i.instances.messageHandler),elementCounter:b};var j;var k;e.getKeysOrdered().forEach(function(l){j=e.getItem(l);k=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(j);if(g&&l.indexOf(n)===0){l=l.replace(c,g);}i.instances.messageHandler.check(l!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof k==="object"&&k.getId&&typeof k.getId==="function"){k.getId=function(){return l;};}h.elements.setItem(l,k);});i.instances.messageHandler.check(n!==undefined||g!==undefined,"ElementContainer: Element has been created without name in copy 2");return new sap.apf.modeler.core.ElementContainer((g||n),a,i,h);};function f(g,h,S){var j;i.instances.messageHandler.check(h!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof S==='function'){j=new S(h,i);}else if(typeof a==='function'){if(a!==sap.apf.modeler.core.ElementContainer){j=new a(h,i);}else{j=new a(h,undefined,i);}}else{j={};}j.getId=function(){return h;};if(g){j=jQuery.extend(j,g);}e.setItem(h,j);return j;}};sap.apf.modeler.core.ElementContainer=E;return E;},true);
