/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.define(['sap/apf/modeler/ui/utils/nullObjectChecker'],function(n){"use strict";function _(c){var g=c.coreApi.getText;c.byId("idEditAppDialog").setTitle(g("editApplication"));c.byId("idDescriptionLabel").setText(g("description"));if(c.coreApi.showSemanticObject()){c.byId("idSemanticObjectLabel").setText(g("semanticObject"));}c.byId("idSaveButton").setText(g("save"));c.byId("idCancelButton").setText(g("cancel"));}return sap.ui.controller("sap.apf.modeler.ui.controller.editApplication",{onInit:function(){var c=this;this.parentControl=c.getView().getViewData().parentControl;this.coreApi=c.getView().getViewData().coreApi;this.applicationData=c.getView().getViewData().applicationData;c.byId("idDescriptionInput").setValue(this.applicationData.description);if(this.coreApi.showSemanticObject()){c.byId("idSemanticObjectInput").setValue(this.applicationData.semanticObject);}else{c.byId("idSemanticObjectInput").setValue("");c.byId("idSemanticObjectBox").setVisible(false);}_(c);c.byId("idEditAppDialog").open();},handleAppDescriptionLiveChange:function(e){var a=e.getParameters().value;if(a!==this.applicationData.description&&n.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(true);}else if(!n.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(false);}},handleSemanticObjectLiveChange:function(e){var a=e.getParameters().value;var d=this.byId("idDescriptionInput").getValue().trim();if(a!==this.applicationData.semanticObject&&n.checkIsNotNullOrUndefinedOrBlank(d)){this.byId("idSaveButton").setEnabled(true);}},handleSavePress:function(){var c=this;var a={};a.ApplicationName=c.byId("idDescriptionInput").getValue().trim();a.SemanticObject=c.byId("idSemanticObjectInput").getValue().trim();a.Application=c.applicationData.id;this.coreApi.getApplicationHandler(function(A,m){if(A&&!n.checkIsNotUndefined(m)){A.setAndSave(a,function(r,M,b){if(!n.checkIsNotUndefined(b)&&(typeof r==="string")){c.parentControl.fireEvent("updateAppListEvent",{"appId":r});}else{c.showMessage("11500",m);}},c.applicationData.id);}else{c.showMessage("11509",m);}});c.byId("idEditAppDialog").close();},handleCancelPress:function(){this.byId("idEditAppDialog").close();},handleAfterClose:function(){this.getView().destroy();},showMessage:function(m,p){var M=this.coreApi.createMessageObject({code:m});if(p){M.setPrevious(p);}this.coreApi.putMessage(M);}});});
