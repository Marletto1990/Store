/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
(function(){'use strict';jQuery.sap.declare("sap.apf.modeler.Component");jQuery.sap.require("sap.ui.core.UIComponent");jQuery.sap.require("sap.apf.modeler.core.instance");jQuery.sap.require("sap.m.routing.RouteMatchedHandler");jQuery.sap.require('sap.apf.modeler.ui.utils.APFRouter');jQuery.sap.require('sap.apf.modeler.ui.utils.constants');jQuery.sap.require('sap.apf.modeler.ui.utils.APFTree');jQuery.sap.require('sap.apf.core.layeredRepositoryProxy');jQuery.sap.require('sap.apf.core.constants');sap.ui.core.UIComponent.extend("sap.apf.modeler.Component",{oCoreApi:null,metadata:{"manifest":"json","library":"sap.apf"},init:function(){var p,c;var t;if(this.initHasAlreadyBeenCalled){return;}this.initHasAlreadyBeenCalled=true;var m=jQuery.extend({},true,this.getMetadata().getManifest());var b=sap.apf.modeler.Component.prototype.getMetadata().getManifest();if(m["sap.app"].crossNavigation&&m["sap.app"].crossNavigation.outbounds&&m["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime){t=m["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime;}if(m["sap.app"].dataSources&&m["sap.app"].dataSources.AnalyticalConfigurationServiceRoot){p=m["sap.app"].dataSources.AnalyticalConfigurationServiceRoot.uri;}else{p=sap.apf.core.constants.modelerPersistenceServiceRoot;}var a={serviceRoot:p};var i=this.getInjections();i.instances=i.instances||{};i.instances.component=this;i.functions=i.functions||{};if(t){i.functions.getNavigationTargetForGenericRuntime=function(){return t;};}else{i.functions.getNavigationTargetForGenericRuntime=function(){if(m['sap.app']&&m['sap.app'].id==='fnd.apf.dts1'){return{semanticObject:"FioriApplication",action:'executeAPFConfigurationS4HANA'};}return{semanticObject:"FioriApplication",action:'executeAPFConfiguration'};};}if(m["sap.app"].dataSources&&m["sap.app"].dataSources.GatewayCatalogService){c=m["sap.app"].dataSources.GatewayCatalogService.uri;}else if(b["sap.app"].dataSources&&b["sap.app"].dataSources.GatewayCatalogService){c=b["sap.app"].dataSources.GatewayCatalogService.uri;}i.functions.getCatalogServiceUri=function(){return c;};this.oCoreApi=new sap.apf.modeler.core.Instance(a,i);var d=this.oCoreApi.getUriGenerator().getApfLocation();jQuery.sap.includeStyleSheet(d+"modeler/resources/css/configModeler.css","configModelerCss");sap.ui.core.UIComponent.prototype.init.apply(this,arguments);this.getRouter().initialize();var M=sap.ui.view({viewName:"sap.apf.modeler.ui.view.messageHandler",type:sap.ui.core.mvc.ViewType.XML,viewData:this.oCoreApi});var C=M.getController().showMessage;this.oCoreApi.setCallbackForMessageHandling(C.bind(M.getController()));},createContent:function(){var a=sap.ui.view({viewName:"sap.apf.modeler.ui.view.applicationList",type:sap.ui.core.mvc.ViewType.XML,viewData:this.oCoreApi});this.oCoreApi.getUriGenerator().getApfLocation();return a;},getInjections:function(){return{instances:{},exits:{}};}});}());
