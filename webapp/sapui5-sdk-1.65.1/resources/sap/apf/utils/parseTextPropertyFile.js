sap.ui.define(["sap/apf/utils/utils","sap/ui/core/format/DateFormat","sap/apf/core/constants"],function(u,D,c){'use strict';var p=function(t,a){var m=a.instances.messageHandler;var d=D.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});var o;var l=t.split(/\r?\n/);var b=l.length;var i,j;var e=-1;var f=-1;var g;var h,k,n;var A=false;var q={Application:undefined,TextElements:[],Messages:[]};var s=false;function r(C,E){var F=m.createMessageObject({code:C,aParameters:[E]});q.Messages.push(F);}function v(C){r(11013,C);}function w(C){r(5411,C);}function x(C,E){var F=u.isValidGuid(C);if(!F){r(5412,E);return false;}return true;}function y(C){r(5415,C);}function z(C){r(5412,C);}for(i=0;i<b;i++){if(!A){var B=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(l[i]);if(B!==null){q.Application=l[i].split('=')[1];if(!u.isValidGuid(q.Application)){q.Application="";v(i);}A=true;continue;}}if(l[i]===""){continue;}if(s){s=false;continue;}if(f===i&&/^\#\s*LastChangeDate/.exec(l[i])){n=l[i].split('=');if(n.length===2){o=d.parse(n[1]);if(!o){y(i);g.LastChangeUTCDateTime="";}else{g.LastChangeUTCDateTime='/Date('+o.getTime()+')/';}q.TextElements.push(g);}else{y(i);}g=null;continue;}if(e===i){n=l[i].split('=');if(n.length>1){if(n[0]==="AnalyticalConfigurationName"){f=0;s=true;continue;}if(x(n[0],i)){g.TextElement=n[0];g.TextElementDescription=n[1];for(j=2;j<n.length;j++){g.TextElementDescription+="="+n[j];}}else{z(i);}}else{w(i);}continue;}h=/^\#(X|Y)[A-Z]{3},[0-9]+:/.exec(l[i]);if(h){if(e===i){w(i);}g={};g.Language=c.developmentLanguage;g.Application=q.Application;g.TextElementType=l[i].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=l[i].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint=l[i].match(/:\s*[0-9a-zA-Z\s]+$/);g.TranslationHint=g.TranslationHint[0].substring(1);e=i+1;f=i+2;}else{k=/^\#(X|Y)[A-Z]{3},[0-9]+/.exec(l[i]);if(k){if(e===i){w(i);}g={};g.Language=c.developmentLanguage;g.Application=q.Application;g.TextElementType=l[i].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=l[i].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint="";e=i+1;f=i+2;}}}if(!A){r(5410,0);}return q;};return p;},true);
