/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.define(['sap/apf/ui/representations/BaseVizFrameChartRepresentation','sap/apf/core/constants','sap/apf/ui/utils/constants'],function(B,c,u){"use strict";function l(a,p){B.apply(this,[a,p]);this.type=u.representationTypes.LINE_CHART_WITH_TIME_AXIS;this.chartType=u.vizFrameChartTypes.LINE_CHART_WITH_TIME_AXIS;this.setDateType();this._addDefaultKind();};l.prototype=Object.create(B.prototype);l.prototype.constructor=l;l.prototype.setDateType=function(){var i;for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===c.representationMetadata.kind.XAXIS){this.parameter.dimensions[i].dataType="date";}}};l.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(m){if(m.kind===undefined){m.kind=c.representationMetadata.kind.YAXIS;}});this.parameter.dimensions.forEach(function(d,i){if(d.kind===undefined){d.kind=i===0?c.representationMetadata.kind.XAXIS:c.representationMetadata.kind.LEGEND;}});};l.prototype.setVizPropsForSpecificRepresentation=function(m){var i;this.chart.setVizProperties({timeAxis:{visible:true,title:{visible:true},label:{visible:true}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});if(m){for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===c.representationMetadata.kind.XAXIS){var p=m.getPropertyMetadata(this.parameter.dimensions[i].fieldName);if(sap.apf.utils.isPropertyTypeWithDateSemantics(p)){this.chart.setVizProperties({general:{showAsUTC:true}});}}}}};l.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){this.thumbnailChart.setVizProperties({timeAxis:{visible:false,title:{visible:false}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});};l.prototype.getAxisFeedItemId=function(k){var s=c.representationMetadata.kind;var a;switch(k){case s.XAXIS:a=c.vizFrame.feedItemTypes.TIMEAXIS;break;case s.YAXIS:a=c.vizFrame.feedItemTypes.VALUEAXIS;break;case s.LEGEND:a=c.vizFrame.feedItemTypes.COLOR;break;default:break;}return a;};sap.apf.ui.representations.lineChartWithTimeAxis=l;return l;},true);
