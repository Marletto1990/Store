sap.ui.define(['sap/ui/model/json/JSONModel','sap/ui/core/mvc/Controller','sap/ui/model/Filter','sap/ui/model/FilterOperator'],function(J,C,U,F){"use strict";return C.extend("sap.apf.ui.reuse.controller.pathFilterDisplay",{getCoreApi:function(){return this.getView().getViewData().oCoreApi;},onInit:function(){var d=this.getView().getViewData().pathFilterInformation;var m=new J(d);this.getView().setModel(m);if(sap.ui.Device.system.desktop){this.getView().byId("pathFilterDisplayDialog").addStyleClass("sapUiSizeCompact");}this.getView().byId("pathFilterDisplayDialog").setContentWidth(jQuery(window).height()*0.6+"px");this.getView().byId("pathFilterDisplayDialog").setContentHeight(jQuery(window).height()*0.6+"px");this.getView().byId("stepPage").setTitle(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("pathFilterDisplayDialog").getEndButton().setText(this.getCoreApi().getTextNotHtmlEncoded("close"));this.getView().byId("pathFilterDisplayDialog").getBeginButton().setText(this.getCoreApi().getTextNotHtmlEncoded("closeAndNavigate"));},onStepPress:function(e){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(true);var n=this.getView().byId("navContainer");var f=this.getView().byId("filterValuesPage");var b=e.getSource().getBindingContext();f.setBindingContext(b);n.to(f);},onCloseButton:function(){this.getView().byId("pathFilterDisplayDialog").close();},onClose:function(){this.getView().byId("pathFilterDisplayDialog").destroy();this.getView().destroy();},onSearch:function(e){var s=e.getParameters().newValue;var l=this.getView().byId("navContainer").getCurrentPage().getContent()[0];var c=l.getBinding("items");var f=[];if(s){f.push(new U("text",F.Contains,s));}c.filter(f);},getDescriptionForStep:function(s,f){if(s){if(f&&f.length>0){return s+", "+this.getCoreApi().getTextNotHtmlEncoded("amountSelected",[f.length]);}return s+", "+this.getCoreApi().getTextNotHtmlEncoded("nothingSelected");}return this.getCoreApi().getTextNotHtmlEncoded("noSelectionPossible");},onBackPress:function(){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(false);var n=this.getView().byId("navContainer");n.back();},onCloseAndNavigatePress:function(e){var i=this.getView().byId("filterValuesPage").data("stepIndex");this.getView().getViewData().oUiApi.getAnalysisPath().getController().navigateToStep(i);this.getView().byId("pathFilterDisplayDialog").close();}});});
