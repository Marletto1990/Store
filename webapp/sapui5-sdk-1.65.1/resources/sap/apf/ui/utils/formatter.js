/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.define(['sap/apf/ui/utils/stringToDateFormatter','sap/apf/ui/utils/dateTimeFormatter','sap/apf/ui/utils/timeFormatter','sap/apf/ui/utils/decimalFormatter'],function(S,D,T,a){"use strict";var f=function(F,m,i){this.metadata=m;this.dataResponse=i;this.oFormatterArgs=F;this.oDataTypeFormatterMap=_();};f.prototype.constructor=f;function _(){var i=new Map();i.set("Edm.String",b);i.set("Edm.DateTime",c);i.set("Edm.Time",d);i.set("Edm.Decimal",e);return i;}function b(m,o){var s=new S();return s.getFormattedValue(m,o,this.oFormatterArgs);}function c(m,o){var i=new D();return i.getFormattedValue(m,o);}function d(m,o){var t=new T();return t.getFormattedValue(m,o);}function e(m,o){var t=new a();var M=m.unit!==undefined?g(this,m.unit):m;var p=0;if(m!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){p=isNaN(m.scale)?this.dataResponse[0][m.scale]:m.scale;}return t.getFormattedValue(M,o,p);}function g(f,i){if(f.metadata&&f.metadata.getPropertyMetadata){return f.metadata.getPropertyMetadata(i);}return f.metadata;}f.prototype.getFormattedValue=function(i,o){if(o===null){return"null";}var j;var m=g(this,i);var k=m.dataType!==undefined?m.dataType.type:undefined;if(k===undefined){k=m.type;}if(this.oDataTypeFormatterMap.has(k)){j=this.oDataTypeFormatterMap.get(k).call(this,m,o);}else{j=o;}var l=jQuery.extend(true,{},m);j=h(l,i,o,j,this.oFormatterArgs);return j;};f.prototype.getFormattedValueAsString=function(i,o){return this.getFormattedValue(i,o)+"";};f.prototype.getFormatStringTooltip=function(m){return this.getFormatString(m);};f.prototype.getFormatString=function(m){var s=this;var i=sap.viz.ui5.format.ChartFormatter.getInstance();sap.viz.ui5.api.env.Format.numericFormatter(i);var j=m.fieldName;i.registerCustomFormatter("measureFormatter",function(v){var k="-";if(v!==null){k=s.getFormattedValue(j,v);}return k;});var F="measureFormatter";return F;};f.prototype.getFormattedValueForTextProperty=function(i,t){var F;if(t.key){F=t.text+" ("+t.key+")";}else{F=t.text;}var m=jQuery.extend(true,{},g(this,i));F=h(m,i,t.text,F,this.oFormatterArgs);return F;};function h(m,i,o,j,F){var k;var l=F.getExits!==undefined?F.getExits.customFormat:undefined;if(l===undefined){return j;}k=F.getExits.customFormat.apply(F,[m,i,o,j]);j=k!==undefined?k:j;return j;}return f;},true);
