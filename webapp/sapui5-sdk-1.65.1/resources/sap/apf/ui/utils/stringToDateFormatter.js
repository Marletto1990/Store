jQuery.sap.declare('sap.apf.ui.utils.stringToDateFormatter');jQuery.sap.require('sap.apf.utils.utils');sap.ui.define(['sap/apf/utils/utils','sap/ui/core/format/DateFormat'],function(u,D){"use strict";var S=function(){this.oSemanticsFormatterMap=a();this.oAnnotationFormatterMap=_();};S.prototype.constructor=S;function _(){var i=new Map();i.set("isCalendarYearMonth",e);i.set("isCalendarDate",f);i.set("isCalendarYearQuarter",g);i.set("isCalendarYearWeek",h);return i;}function a(){var s=new Map();s.set("yearmonth",c);s.set("yearmonthday",d);s.set(undefined,b);return s;}function b(m,o){return o;}function c(m,o,F){var j=F.getTextNotHtmlEncoded("month-1-shortName");var i=F.getTextNotHtmlEncoded("month-2-shortName");var k=F.getTextNotHtmlEncoded("month-3-shortName");var l=F.getTextNotHtmlEncoded("month-4-shortName");var n=F.getTextNotHtmlEncoded("month-5-shortName");var p=F.getTextNotHtmlEncoded("month-6-shortName");var q=F.getTextNotHtmlEncoded("month-7-shortName");var r=F.getTextNotHtmlEncoded("month-8-shortName");var s=F.getTextNotHtmlEncoded("month-9-shortName");var t=F.getTextNotHtmlEncoded("month-10-shortName");var v=F.getTextNotHtmlEncoded("month-11-shortName");var w=F.getTextNotHtmlEncoded("month-12-shortName");var x=[j,i,k,l,n,p,q,r,s,t,v,w];var y=o.substr(0,4);var z=x[o.substr(4,6)-1];return z+" "+y;}function d(m,o){var i="-";var j;if(o.length===8){j=u.convertFiscalYearMonthDayToDate(o);}else{j=new Date(Date.parse(o));}if(!isNaN(j.getTime())){var k=D.getDateInstance({style:"short"});i=k.format(j,true);}return i;}function e(m,o,F){if(m.isCalendarYearMonth===undefined){return"";}var i=c(this,o,F);return i;}function f(m,o){if(m.isCalendarDate===undefined){return"";}var i=d(this,o);return i;}function g(m,o){if(m.isCalendarYearQuarter===undefined){return"";}var y=o.substr(0,4);var q=o.substr(4,1);var i=new Date(y);var j=i.getFullYear();var k;k="Q"+q;var l=k+" "+j;return l;}function h(m,o){if(m.isCalendarYearWeek===undefined){return"";}var y=o.substr(0,4);var w=o.substr(4,2);var i=new Date(y);var j=i.getFullYear();var k;k="CW"+w;var l=k+" "+j;return l;}S.prototype.getFormattedValue=function(m,o,F){var i="";var s=m["sap:semantics"]!==undefined&&m["sap:semantics"].String!==undefined?m["sap:semantics"].String:m["sap:semantics"];if(o!==null){var j=this;j.oAnnotationFormatterMap.forEach(function(k,l){if(i===""){i=j.oAnnotationFormatterMap.get(l).call(j,m,o,F);}});if(i===""){i=j.oSemanticsFormatterMap.get(s)!==undefined?j.oSemanticsFormatterMap.get(s).call(j,m,o,F):o;}}else{i=o;}return i;};return S;},true);
