/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.define(['sap/apf/core/utils/checkForTimeout','sap/ui/model/odata/ODataUtils'],function(c,O){'use strict';function _(s){var m=s.instances&&s.instances.messageHandler;var a=jQuery.extend(true,{},s);if(a.functions&&a.functions.ajax){delete a.functions.ajax;}if(a.functions&&a.functions.getSapSystem){delete a.functions.getSapSystem;}if(a.instances&&a.instances.messageHandler){delete a.instances.messageHandler;}if(a.suppressSapSystem){delete a.suppressSapSystem;}var b=a.beforeSend;var S=a.success;var e=a.error;var o;var r;var d=(s.functions&&s.functions.ajax)||jQuery.ajax;a.beforeSend=function(j,i){if(b){b(j,i);}};if((s.functions&&s.functions.getSapSystem&&s.functions.getSapSystem())&&!s.suppressSapSystem){a.url=O.setOrigin(a.url,{force:true,alias:s.functions.getSapSystem()});}var h=function(i,t,j){var M;try{M=c(j);if(M){e(i,"error",undefined,M);}else{S(i,t,j);}}catch(k){g(k);}};var f=function(j,t,i){var M;try{M=c(j);if(M){e(j,t,i,M);}else{e(j,t,i);}}catch(k){g(k);}};if(a.async!==undefined&&a.async===false){a.success=h;a.error=f;r=d(a);if(m&&m.isOwnException(o)){throw new Error(o&&o.message||"");}}else{delete a.success;delete a.error;r=d(a).done(function(i,t,j){h(i,t,j);}).fail(function(j,t,i){f(j,t,i);});}return r;function g(i){var j;var M;o=i;if(!m.isOwnException(i)){j=i&&i.message||"";M=m.createMessageObject({code:"5042",aParameters:[j]});m.putMessage(M);}}}sap.apf.core.ajax=_;return _;},true);
