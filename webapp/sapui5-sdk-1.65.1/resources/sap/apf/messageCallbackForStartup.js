sap.ui.define(['sap/apf/core/constants','sap/m/MessageBox'],function(C){'use strict';function m(a){function c(){window.history.go(-1);}function b(a){var t=a.getMessage();while(a.getPrevious()){a=a.getPrevious();t=t+'\n'+a.getMessage();}return t;}function o(){var D=new sap.m.Dialog({title:"Error",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:['<div><p> '+jQuery.sap.encodeHTML(b(a))+'</p></div>'].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:"Close",press:function(){D.close();}}),afterClose:function(){D.destroy();}});D.setInitialFocus(D);D.open();}var d=new sap.m.Dialog({title:"Error",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:a.getMessage()}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:"Show Details",press:function(){o();}})]})],beginButton:new sap.m.Button({text:"Close",press:function(){if(a.getSeverity()===C.message.severity.fatal){c();}}}),afterClose:function(){d.destroy();}});d.setInitialFocus(d);d.open();}sap.apf.messageCallbackForStartup=m;return m;},true);
